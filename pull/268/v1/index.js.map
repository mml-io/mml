{
  "version": 3,
  "sources": ["../src/ui/setUrlParam.ts", "../src/ui/shared-styles.module.css", "../src/ui/UIElement.ts", "../src/ui/UIField.module.css", "../src/ui/UIField.ts", "../src/ui/UIGroup.module.css", "../src/ui/UIGroup.ts", "../src/FormIteration.ts", "../src/PlayCanvasMode.ts", "../src/QueryParamState.ts", "../src/TagsMode.ts", "../src/ThreeJSMode.ts", "../src/ui/HideUISection.module.css", "../src/ui/tooltip.module.css", "../src/ui/HideUISection.ts", "../src/ui/UnusedParameters.module.css", "../src/ui/UnusedParameters.ts", "../src/ui/ViewerUI.module.css", "../src/ui/ViewerUI.ts", "../src/StandaloneViewer.ts", "../src/index.ts"],
  "sourcesContent": ["export function setUrlParam(name: string, value: string | null) {\n  const params = new URLSearchParams(window.location.search);\n  if (value === \"\" || value === null) {\n    params.delete(name);\n  } else {\n    params.set(name, value);\n  }\n  window.history.replaceState({}, \"\", `${window.location.pathname}?${params}`);\n  window.dispatchEvent(new PopStateEvent(\"popstate\"));\n}\n", "import \"esbuild-css-modules-plugin-ns-css:src/ui/shared-styles.module.css\";\n\nexport default {\n  \"button\": \"shared-styles-module__button_Y_AOrq__0231\",\n  \"header\": \"shared-styles-module__header_Y_AOrq__0231\"\n};\n      ", "export class UIElement {\n  public readonly element = document.createElement(\"div\");\n\n  dispose() {}\n}\n", "import \"esbuild-css-modules-plugin-ns-css:src/ui/UIField.module.css\";\n\nexport default {\n  \"actionField\": \"UIField-module__action-field_lh-KDa__0231\",\n  \"label\": \"UIField-module__label_lh-KDa__0231\",\n  \"labelFocused\": \"UIField-module__label-focused_lh-KDa__0231\",\n  \"selectInput\": \"UIField-module__select-input_lh-KDa__0231\",\n  \"submitButton\": \"UIField-module__submit-button_lh-KDa__0231\",\n  \"textInput\": \"UIField-module__text-input_lh-KDa__0231\",\n  \"uiField\": \"UIField-module__ui-field_lh-KDa__0231\"\n};\n      ", "import { FieldDefinition } from \"./FieldDefinition\";\nimport { setUrlParam } from \"./setUrlParam\";\nimport sharedStyles from \"./shared-styles.module.css\";\nimport { UIElement } from \"./UIElement\";\nimport styles from \"./UIField.module.css\";\nimport { UIGroup } from \"./UIGroup\";\n\nexport class UIField extends UIElement {\n  private label: HTMLLabelElement;\n  private input?: HTMLInputElement;\n\n  private selectElement?: HTMLSelectElement;\n\n  private submitButton?: HTMLButtonElement;\n  private actionButton?: HTMLButtonElement;\n\n  constructor(\n    public fieldDefinition: FieldDefinition,\n    public readonly group: UIGroup,\n  ) {\n    super();\n    this.element.className = styles.uiField;\n\n    this.label = document.createElement(\"label\");\n    this.label.className = styles.label;\n    this.label.textContent = fieldDefinition.label;\n    this.element.append(this.label);\n\n    if (fieldDefinition.type === \"action\") {\n      this.element.classList.add(styles.actionField);\n      this.actionButton = document.createElement(\"button\");\n      this.actionButton.classList.add(sharedStyles.button, styles.submitButton);\n      this.actionButton.textContent = fieldDefinition.label;\n      this.actionButton.addEventListener(\"click\", () => {\n        try {\n          if (this.fieldDefinition.onClick) {\n            this.fieldDefinition.onClick();\n          }\n        } catch (e) {\n          console.warn(\"UI action handler threw:\", e);\n        }\n      });\n      this.label.textContent = \"\";\n      this.element.append(this.actionButton);\n    } else if (fieldDefinition.options) {\n      const selectElement = document.createElement(\"select\");\n      this.selectElement = selectElement;\n      this.selectElement.className = styles.selectInput;\n\n      const unsetOption = document.createElement(\"option\");\n      unsetOption.textContent = \"Unset (default: \" + fieldDefinition.defaultValue + \")\";\n      unsetOption.value = \"\";\n      this.selectElement.append(unsetOption);\n      this.element.append(this.selectElement);\n\n      for (const option of fieldDefinition.options) {\n        const optionElement = document.createElement(\"option\");\n        optionElement.textContent = option;\n        this.selectElement.append(optionElement);\n      }\n\n      if (fieldDefinition.requireSubmission) {\n        this.submitButton = document.createElement(\"button\");\n        this.submitButton.classList.add(sharedStyles.button, styles.submitButton);\n        this.submitButton.textContent = \"Submit\";\n        this.submitButton.addEventListener(\"click\", () => {\n          this.onChange(selectElement.value);\n        });\n        this.element.append(this.submitButton);\n      } else {\n        this.selectElement.addEventListener(\"change\", () => {\n          this.onChange(selectElement.value);\n        });\n      }\n    } else {\n      const input = document.createElement(\"input\");\n      this.input = input;\n      this.input.className = styles.textInput;\n      this.input.placeholder = `Default: ${fieldDefinition.defaultValue.toString()}`;\n      this.input.addEventListener(\"focus\", () => {\n        this.label.classList.add(styles.labelFocused);\n      });\n      this.input.addEventListener(\"blur\", () => {\n        this.label.classList.remove(styles.labelFocused);\n      });\n      this.input.addEventListener(\"keydown\", (event) => {\n        if (event.key === \"Enter\") {\n          this.onChange(input.value);\n        }\n      });\n      if (fieldDefinition.type === \"number\") {\n        this.input.step = \"0.01\";\n        this.input.type = \"number\";\n      } else if (fieldDefinition.type === \"color\") {\n        this.input.type = \"text\";\n      } else if (fieldDefinition.type === \"boolean\") {\n        this.input.type = \"checkbox\";\n      } else {\n        this.input.type = \"text\";\n      }\n      this.element.append(this.input);\n\n      if (fieldDefinition.requireSubmission) {\n        this.submitButton = document.createElement(\"button\");\n        this.submitButton.classList.add(sharedStyles.button, styles.submitButton);\n        this.submitButton.textContent = \"Submit\";\n        this.submitButton.addEventListener(\"click\", () => {\n          if (this.input) {\n            this.onChange(this.input.value);\n          } else if (this.selectElement) {\n            this.onChange(this.selectElement.value);\n          }\n        });\n        this.element.append(this.submitButton);\n      } else {\n        if (this.input) {\n          const input = this.input;\n          this.input.addEventListener(\"input\", () => {\n            if (input.type === \"checkbox\") {\n              this.onChange(input.checked ? \"true\" : \"false\");\n              return;\n            }\n            this.onChange(input.value);\n          });\n        } else if (this.selectElement) {\n          const selectElement = this.selectElement;\n          this.selectElement.addEventListener(\"change\", () => {\n            this.onChange(selectElement.value);\n          });\n        }\n      }\n    }\n\n    if (fieldDefinition.type !== \"action\") {\n      const params = new URLSearchParams(window.location.search);\n      const value = params.get(fieldDefinition.name);\n      if (value) {\n        this.setValue(value);\n      }\n    }\n\n    if (fieldDefinition.type === \"boolean\") {\n      this.setValue(fieldDefinition.defaultValue.toString());\n    }\n  }\n\n  setValue(value: string) {\n    if (this.fieldDefinition.type === \"action\") {\n      return;\n    }\n    if (this.selectElement) {\n      this.selectElement.value = value;\n    } else if (this.input) {\n      if (this.input.type === \"checkbox\") {\n        this.input.checked = value === \"true\";\n      } else {\n        this.input.value = value;\n      }\n    }\n  }\n\n  onChange(value: string) {\n    if (this.fieldDefinition.type === \"action\") {\n      return;\n    }\n    if (this.fieldDefinition.type === \"boolean\") {\n      value = value === \"true\" || value === \"on\" || value === \"1\" ? \"true\" : \"false\";\n    }\n    setUrlParam(this.fieldDefinition.name, value);\n  }\n}\n", "import \"esbuild-css-modules-plugin-ns-css:src/ui/UIGroup.module.css\";\n\nexport default {\n  \"uiGroup\": \"UIGroup-module__ui-group_WUqfdq__0231\"\n};\n      ", "import { GroupDefinition } from \"./FieldDefinition\";\nimport { allFields } from \"./fields\";\nimport sharedStyles from \"./shared-styles.module.css\";\nimport { UIElement } from \"./UIElement\";\nimport { UIField } from \"./UIField\";\nimport styles from \"./UIGroup.module.css\";\n\nexport class UIGroup extends UIElement {\n  private header: HTMLDivElement;\n  private contents: HTMLDivElement;\n\n  constructor(public readonly groupDefinition: GroupDefinition) {\n    super();\n    this.element.className = styles.uiGroup;\n    this.header = document.createElement(\"div\");\n    this.header.className = sharedStyles.header;\n    this.header.textContent = groupDefinition.label;\n    this.element.append(this.header);\n\n    this.contents = document.createElement(\"div\");\n    this.contents.className = styles.contents;\n    this.element.append(this.contents);\n  }\n\n  private fields: Array<UIField> = new Array<UIField>();\n\n  addField(uiField: UIField) {\n    if (this.fields.includes(uiField)) {\n      return;\n    }\n\n    this.fields.push(uiField);\n    this.fields.sort(\n      (a, b) => allFields.indexOf(a.fieldDefinition) - allFields.indexOf(b.fieldDefinition),\n    );\n    const index = this.fields.indexOf(uiField);\n    if (index === this.fields.length - 1) {\n      this.contents.append(uiField.element);\n    } else {\n      const nextGroup = this.fields[index + 1];\n      this.contents.insertBefore(uiField.element, nextGroup.element);\n    }\n  }\n\n  removeField(uiField: UIField) {\n    this.fields = this.fields.filter((f) => f !== uiField);\n    this.contents.removeChild(uiField.element);\n  }\n\n  dispose() {\n    for (const element of this.fields) {\n      element.dispose();\n    }\n    this.fields = [];\n  }\n\n  isEmpty() {\n    return this.fields.length === 0;\n  }\n}\n", "import { QueryParamState } from \"./QueryParamState\";\nimport { FieldDefinition, GroupDefinition } from \"./ui/FieldDefinition\";\nimport { UIField } from \"./ui/UIField\";\nimport { UIGroup } from \"./ui/UIGroup\";\nimport { ViewerUI } from \"./ui/ViewerUI\";\n\nexport class FormIteration {\n  private unmatchedFields = new Map<FieldDefinition, UIField>();\n\n  private fields = new Map<FieldDefinition, UIField>();\n  private groups = new Map<GroupDefinition, UIGroup>();\n\n  constructor(\n    private queryParamState: QueryParamState,\n    private viewerUI: ViewerUI,\n    previousFormIteration: FormIteration | null,\n  ) {\n    if (previousFormIteration) {\n      this.unmatchedFields = new Map(previousFormIteration.fields);\n      this.fields = new Map(previousFormIteration.fields);\n    }\n  }\n\n  getFieldValue(fieldDefinition: FieldDefinition): string {\n    const unmatchedField = this.unmatchedFields.get(fieldDefinition);\n    if (unmatchedField) {\n      const uiGroup = unmatchedField.group;\n      this.groups.set(uiGroup.groupDefinition, uiGroup);\n      this.unmatchedFields // We've used this existing field. Mark it as matched.\n        .delete(fieldDefinition);\n    }\n    let field = this.fields.get(fieldDefinition);\n    if (!field) {\n      const groupDefinition = fieldDefinition.groupDefinition;\n      let uiGroup = this.groups.get(groupDefinition);\n      if (!uiGroup) {\n        uiGroup = new UIGroup(groupDefinition);\n        this.groups.set(groupDefinition, uiGroup);\n        this.viewerUI.addGroup(uiGroup);\n      }\n      field = new UIField(fieldDefinition, uiGroup);\n      uiGroup.addField(field);\n      this.fields.set(fieldDefinition, field);\n    }\n\n    const readValue = this.queryParamState.read(fieldDefinition.name);\n    if (readValue !== null) {\n      field.setValue(readValue);\n      return readValue;\n    }\n    return fieldDefinition.defaultValue.toString();\n  }\n\n  private clearUnmatchedFields() {\n    for (const field of this.unmatchedFields.values()) {\n      const group = field.group;\n      group.removeField(field);\n      field.dispose();\n      if (group.isEmpty()) {\n        group.dispose();\n        this.viewerUI.removeGroup(group);\n        this.groups.delete(group.groupDefinition);\n      }\n      this.fields.delete(field.fieldDefinition);\n    }\n    this.unmatchedFields.clear();\n  }\n\n  completed() {\n    this.clearUnmatchedFields();\n    this.viewerUI.showUnusedParams(Array.from(this.queryParamState.getUnusedParams()));\n  }\n}\n", "import { FormIteration } from \"./FormIteration\";\nimport { GraphicsMode } from \"./GraphicsMode\";\nimport { MMLSourceDefinition } from \"./MMLSourceDefinition\";\nimport { PlayCanvasModeOptions } from \"./PlayCanvasModeInternal\";\n\nexport class PlayCanvasMode implements GraphicsMode {\n  private disposed = false;\n  private internalMode: GraphicsMode | null = null;\n\n  public readonly type = \"playcanvas\";\n\n  constructor(\n    private windowTarget: Window,\n    private targetForWrappers: HTMLElement,\n    private mmlSource: MMLSourceDefinition,\n    private formIteration: FormIteration,\n    private options: PlayCanvasModeOptions,\n  ) {\n    this.init();\n  }\n\n  public updateSource(source: MMLSourceDefinition): void {\n    this.mmlSource = source;\n    if (this.internalMode) {\n      this.internalMode.updateSource(source);\n    }\n  }\n\n  private async init() {\n    this.internalMode = await (async () => {\n      const { PlayCanvasModeInternal } = await import(\"./PlayCanvasModeInternal\");\n      return new PlayCanvasModeInternal(\n        this.windowTarget,\n        this.targetForWrappers,\n        this.mmlSource,\n        this.formIteration,\n        this.options,\n      );\n    })();\n    if (this.disposed) {\n      this.dispose();\n      return;\n    }\n  }\n\n  dispose() {\n    this.disposed = true;\n    if (this.internalMode) {\n      this.internalMode.dispose();\n    }\n  }\n\n  update(formIteration: FormIteration) {\n    this.formIteration = formIteration;\n    if (!this.internalMode) {\n      return;\n    }\n    this.internalMode.update(formIteration);\n  }\n\n  getRendererCanvas(): HTMLCanvasElement | null {\n    if (!this.internalMode) {\n      return null;\n    }\n    return this.internalMode.getRendererCanvas();\n  }\n}\n", "export class QueryParamState {\n  private params: Map<string, string> = new Map();\n  private usedParams: Set<string> = new Set();\n\n  constructor(arg: string | Map<string, string> = new Map()) {\n    if (typeof arg === \"string\") {\n      this.params = new Map(new URLSearchParams(arg));\n    } else {\n      this.params = new Map(arg);\n    }\n  }\n\n  public cloneWithAdditionalParams(params: Map<string, string>): QueryParamState {\n    const newParams = new Map(this.params);\n    params.forEach((value, key) => {\n      newParams.set(key, value);\n    });\n    return new QueryParamState(newParams);\n  }\n\n  public read(key: string): string | null {\n    this.usedParams.add(key);\n    return this.params.get(key) ?? null;\n  }\n\n  public getUnusedParams(): Set<string> {\n    const unusedParams = new Set(this.params.keys());\n    this.usedParams.forEach((key) => {\n      unusedParams.delete(key);\n    });\n    return unusedParams;\n  }\n\n  public toString(): string {\n    const searchParams = new URLSearchParams();\n    this.params.forEach((value, key) => {\n      searchParams.set(key, value);\n    });\n    return searchParams.toString();\n  }\n}\n", "import {\n  FullScreenMMLScene,\n  MMLNetworkSource,\n  NetworkedDOMWebsocketStatus,\n  NetworkedDOMWebsocketStatusToString,\n  StandaloneTagDebugAdapter,\n  StatusUI,\n} from \"@mml-io/mml-web\";\n\nimport { FormIteration } from \"./FormIteration\";\nimport { GraphicsMode } from \"./GraphicsMode\";\nimport { MMLSourceDefinition } from \"./MMLSourceDefinition\";\nimport { setDebugGlobals } from \"./setDebugGlobals\";\n\nexport class TagsMode implements GraphicsMode {\n  private disposed = false;\n\n  private loadedState: {\n    mmlNetworkSource: MMLNetworkSource;\n    graphicsAdapter: StandaloneTagDebugAdapter;\n    fullScreenMMLScene: FullScreenMMLScene<StandaloneTagDebugAdapter>;\n    statusUI: StatusUI;\n  } | null = null;\n\n  constructor(\n    private windowTarget: Window,\n    private targetForWrappers: HTMLElement,\n    private mmlSourceDefinition: MMLSourceDefinition,\n    private formIteration: FormIteration,\n    private showDebugLoading: boolean,\n  ) {\n    this.init();\n  }\n\n  public readonly type = \"tags\";\n\n  public updateSource(source: MMLSourceDefinition): void {\n    this.mmlSourceDefinition = source;\n    if (this.loadedState) {\n      const existingSource = this.loadedState.mmlNetworkSource;\n      existingSource.dispose();\n      this.loadedState.mmlNetworkSource = MMLNetworkSource.create({\n        mmlScene: this.loadedState.fullScreenMMLScene,\n        statusUpdated: (status: NetworkedDOMWebsocketStatus) => {\n          this.loadedState?.statusUI.setStatus(NetworkedDOMWebsocketStatusToString(status));\n        },\n        url: source.url,\n        windowTarget: this.windowTarget,\n        targetForWrappers: this.targetForWrappers,\n      });\n      setDebugGlobals({\n        mmlScene: this.loadedState.fullScreenMMLScene,\n        remoteDocumentWrapper: this.loadedState.mmlNetworkSource.remoteDocumentWrapper,\n      });\n    }\n  }\n\n  private async init() {\n    const fullScreenMMLScene = new FullScreenMMLScene<StandaloneTagDebugAdapter>({\n      showDebugLoading: this.showDebugLoading,\n    });\n    document.body.append(fullScreenMMLScene.element);\n    const graphicsAdapter = await StandaloneTagDebugAdapter.create(fullScreenMMLScene.element);\n    if (this.disposed) {\n      graphicsAdapter.dispose();\n      return;\n    }\n\n    fullScreenMMLScene.init(graphicsAdapter);\n    const statusUI = new StatusUI();\n    const mmlNetworkSource = MMLNetworkSource.create({\n      mmlScene: fullScreenMMLScene,\n      statusUpdated: (status: NetworkedDOMWebsocketStatus) => {\n        if (status === NetworkedDOMWebsocketStatus.Connected) {\n          statusUI.setNoStatus();\n        } else {\n          statusUI.setStatus(NetworkedDOMWebsocketStatusToString(status));\n        }\n      },\n      url: this.mmlSourceDefinition.url,\n      windowTarget: this.windowTarget,\n      targetForWrappers: this.targetForWrappers,\n    });\n    setDebugGlobals({\n      mmlScene: fullScreenMMLScene,\n      remoteDocumentWrapper: mmlNetworkSource.remoteDocumentWrapper,\n    });\n\n    fullScreenMMLScene.getLoadingProgressManager().setInitialLoad(true);\n\n    this.loadedState = {\n      mmlNetworkSource,\n      graphicsAdapter,\n      fullScreenMMLScene,\n      statusUI,\n    };\n    this.update(this.formIteration);\n  }\n\n  public dispose() {\n    this.disposed = true;\n    if (this.loadedState) {\n      this.loadedState.mmlNetworkSource.dispose();\n      this.loadedState.graphicsAdapter.dispose();\n      this.loadedState.fullScreenMMLScene.dispose();\n      this.loadedState.statusUI.dispose();\n      this.loadedState = null;\n    }\n  }\n\n  update(formIteration: FormIteration) {\n    formIteration.completed();\n  }\n\n  getRendererCanvas(): HTMLCanvasElement | null {\n    // This is not supported for tags mode\n    return null;\n  }\n}\n", "import { FormIteration } from \"./FormIteration\";\nimport { GraphicsMode } from \"./GraphicsMode\";\nimport { MMLSourceDefinition } from \"./MMLSourceDefinition\";\nimport { ThreeJSModeOptions } from \"./ThreeJSModeInternal\";\n\nexport class ThreeJSMode implements GraphicsMode {\n  private disposed = false;\n  private internalMode: GraphicsMode | null = null;\n\n  public readonly type = \"threejs\";\n\n  constructor(\n    private windowTarget: Window,\n    private targetForWrappers: HTMLElement,\n    private mmlSource: MMLSourceDefinition,\n    private formIteration: FormIteration,\n    private options: ThreeJSModeOptions,\n  ) {\n    this.init();\n  }\n\n  public updateSource(source: MMLSourceDefinition): void {\n    this.mmlSource = source;\n    if (this.internalMode) {\n      this.internalMode.updateSource(source);\n    }\n  }\n\n  private async init() {\n    this.internalMode = await (async () => {\n      const { ThreeJSModeInternal } = await import(\"./ThreeJSModeInternal\");\n      return new ThreeJSModeInternal(\n        this.windowTarget,\n        this.targetForWrappers,\n        this.mmlSource,\n        this.formIteration,\n        this.options,\n      );\n    })();\n    if (this.disposed) {\n      this.dispose();\n      return;\n    }\n  }\n\n  public dispose() {\n    this.disposed = true;\n    if (this.internalMode) {\n      this.internalMode.dispose();\n    }\n  }\n\n  update(formIteration: FormIteration) {\n    this.formIteration = formIteration;\n    if (!this.internalMode) {\n      return;\n    }\n    this.internalMode.update(formIteration);\n  }\n\n  getRendererCanvas(): HTMLCanvasElement | null {\n    if (!this.internalMode) {\n      return null;\n    }\n    return this.internalMode.getRendererCanvas();\n  }\n}\n", "import \"esbuild-css-modules-plugin-ns-css:src/ui/HideUISection.module.css\";\n\nexport default {\n  \"hidden\": \"HideUISection-module__hidden_ygtI5G__0231\",\n  \"hideUiSection\": \"HideUISection-module__hide-ui-section_ygtI5G__0231\",\n  \"hideUiSectionContents\": \"HideUISection-module__hide-ui-section-contents_ygtI5G__0231\"\n};\n      ", "import \"esbuild-css-modules-plugin-ns-css:src/ui/tooltip.module.css\";\n\nexport default {\n  \"tooltip\": \"tooltip-module__tooltip_qonKzG__0231\",\n  \"tooltipInitiator\": \"tooltip-module__tooltip-initiator_qonKzG__0231\",\n  \"tooltipItem\": \"tooltip-module__tooltip-item_qonKzG__0231\"\n};\n      ", "import styles from \"./HideUISection.module.css\";\nimport { setUrlParam } from \"./setUrlParam\";\nimport sharedStyles from \"./shared-styles.module.css\";\nimport tooltipStyles from \"./tooltip.module.css\";\n\nexport class HideUISection {\n  public readonly element: HTMLDivElement;\n  private hideUiButton: HTMLButtonElement;\n  private hideUiHeader: HTMLDivElement;\n  private hideUiSectionContents: HTMLDivElement;\n\n  constructor() {\n    this.element = document.createElement(\"div\");\n    this.element.className = styles.hideUiSection;\n\n    this.hideUiHeader = document.createElement(\"div\");\n    this.hideUiHeader.textContent = \"Hide UI\";\n    this.hideUiHeader.className = sharedStyles.header;\n    this.element.append(this.hideUiHeader);\n\n    this.hideUiSectionContents = document.createElement(\"div\");\n    this.hideUiSectionContents.className = styles.hideUiSectionContents;\n    this.element.append(this.hideUiSectionContents);\n\n    this.hideUiButton = document.createElement(\"button\");\n    this.hideUiButton.className = sharedStyles.button;\n    this.hideUiButton.textContent = \"Hide UI\";\n    this.hideUiButton.addEventListener(\"click\", () => {\n      setUrlParam(\"noUI\", \"true\");\n    });\n    this.hideUiSectionContents.append(this.hideUiButton);\n\n    const warningIcon = document.createElement(\"span\");\n    warningIcon.className = tooltipStyles.tooltip;\n    warningIcon.setAttribute(\"data-direction\", \"left\");\n    const warningIconText = document.createElement(\"span\");\n    warningIconText.className = tooltipStyles.tooltipInitiator;\n    warningIconText.textContent = \"\u26A0\uFE0F\";\n    warningIcon.append(warningIconText);\n    const warningTooltip = document.createElement(\"span\");\n    warningTooltip.className = tooltipStyles.tooltipItem;\n    warningTooltip.textContent =\n      \"If you hide the UI, it can only be shown again by removing the noUI parameter from the URL\";\n    warningIcon.append(warningTooltip);\n    this.hideUiSectionContents.append(warningIcon);\n  }\n\n  show() {\n    this.element.classList.remove(styles.hidden);\n  }\n\n  hide() {\n    this.element.classList.add(styles.hidden);\n  }\n}\n", "import \"esbuild-css-modules-plugin-ns-css:src/ui/UnusedParameters.module.css\";\n\nexport default {\n  \"header\": \"UnusedParameters-module__header_BZL2TW__0231\",\n  \"hidden\": \"UnusedParameters-module__hidden_BZL2TW__0231\",\n  \"paramListItem\": \"UnusedParameters-module__param-list-item_BZL2TW__0231\",\n  \"unusedParameters\": \"UnusedParameters-module__unused-parameters_BZL2TW__0231\"\n};\n      ", "import { setUrlParam } from \"./setUrlParam\";\nimport sharedStyles from \"./shared-styles.module.css\";\nimport tooltipStyles from \"./tooltip.module.css\";\nimport styles from \"./UnusedParameters.module.css\";\n\nexport class UnusedParameters {\n  public readonly element: HTMLDivElement;\n  private header: HTMLDivElement;\n  private paramsHolder: HTMLDivElement;\n\n  constructor() {\n    this.element = document.createElement(\"div\");\n    this.element.classList.add(styles.unusedParameters, styles.hidden);\n\n    this.header = document.createElement(\"div\");\n    this.header.textContent = \"Unused Parameters\";\n    this.header.className = sharedStyles.header;\n    this.element.append(this.header);\n\n    const warningIcon = document.createElement(\"span\");\n    warningIcon.className = tooltipStyles.tooltip;\n    warningIcon.setAttribute(\"data-direction\", \"left\");\n    const warningIconText = document.createElement(\"span\");\n    warningIconText.className = tooltipStyles.tooltipInitiator;\n    warningIconText.textContent = \"\u26A0\uFE0F\";\n    warningIcon.append(warningIconText);\n    const warningTooltip = document.createElement(\"span\");\n    warningTooltip.className = tooltipStyles.tooltipItem;\n    warningTooltip.textContent = \"These parameters are not used by the viewer in the current mode\";\n    warningIcon.append(warningTooltip);\n    this.header.append(warningIcon);\n\n    this.paramsHolder = document.createElement(\"div\");\n    this.element.append(this.paramsHolder);\n  }\n\n  setParams(params: string[]) {\n    this.paramsHolder.innerHTML = \"\";\n    if (params.length === 0) {\n      this.element.classList.add(styles.hidden);\n      return;\n    }\n\n    this.element.classList.remove(styles.hidden);\n\n    for (const param of params) {\n      const listItem = document.createElement(\"div\");\n      listItem.className = styles.paramListItem;\n      const paramName = document.createElement(\"div\");\n      paramName.textContent = param;\n      listItem.append(paramName);\n      const removeButton = document.createElement(\"button\");\n      removeButton.className = sharedStyles.button;\n      removeButton.textContent = \"Remove\";\n      removeButton.addEventListener(\"click\", () => {\n        setUrlParam(param, null);\n      });\n      listItem.append(removeButton);\n      this.paramsHolder.append(listItem);\n    }\n  }\n}\n", "import \"esbuild-css-modules-plugin-ns-css:src/ui/ViewerUI.module.css\";\n\nexport default {\n  \"contents\": \"ViewerUI-module__contents_ne7v1W__0231\",\n  \"emptyState\": \"ViewerUI-module__empty-state_ne7v1W__0231\",\n  \"githubLink\": \"ViewerUI-module__github-link_ne7v1W__0231\",\n  \"githubLogo\": \"ViewerUI-module__github-logo_ne7v1W__0231\",\n  \"header\": \"ViewerUI-module__header_ne7v1W__0231\",\n  \"logo\": \"ViewerUI-module__logo_ne7v1W__0231\",\n  \"menuButton\": \"ViewerUI-module__menu-button_ne7v1W__0231\",\n  \"title\": \"ViewerUI-module__title_ne7v1W__0231\",\n  \"viewerUi\": \"ViewerUI-module__viewer-ui_ne7v1W__0231\"\n};\n      ", "import MMLLogoSVG from \"../../../../branding/src/svg/logotype/mml-logotype-white.svg\";\nimport { allGroups } from \"./fields\";\nimport GitHubLogoSVG from \"./github-mark-white.svg\";\nimport { HideUISection } from \"./HideUISection\";\nimport { UIGroup } from \"./UIGroup\";\nimport { UnusedParameters } from \"./UnusedParameters\";\nimport styles from \"./ViewerUI.module.css\";\n\nexport class ViewerUI {\n  private element: HTMLDivElement;\n  private contents: HTMLDivElement;\n\n  private header: HTMLDivElement;\n  private groups: Array<UIGroup> = [];\n  private groupHolder: HTMLDivElement;\n\n  private unusedParameters: UnusedParameters;\n  private hideUISection: HideUISection;\n\n  constructor() {\n    this.element = document.createElement(\"div\");\n    this.element.className = styles.viewerUi;\n    this.element.addEventListener(\"wheel\", (e) => e.stopPropagation());\n    document.body.append(this.element);\n\n    this.contents = document.createElement(\"div\");\n    this.contents.className = styles.contents;\n    this.contents.style.display = \"none\";\n    this.element.append(this.contents);\n\n    this.header = document.createElement(\"div\");\n    this.header.className = styles.header;\n\n    const title = document.createElement(\"div\");\n    title.className = styles.title;\n    const logoLink = document.createElement(\"a\");\n    logoLink.target = \"_blank\";\n    logoLink.href = \"https://mml.io\";\n    const logo = document.createElement(\"img\");\n    logo.classList.add(styles.logo);\n    logo.src = MMLLogoSVG;\n    logo.alt = \"MML\";\n    logoLink.append(logo);\n    title.append(logoLink);\n    const span = document.createElement(\"span\");\n    span.textContent = \" Viewer (Alpha)\";\n    title.append(span);\n    this.header.append(title);\n\n    const githubLink = document.createElement(\"a\");\n    githubLink.target = \"_blank\";\n    githubLink.className = styles.githubLink;\n    githubLink.href = \"https://github.com/mml-io/mml/tree/main/packages/mml-viewer\";\n    const githubLogo = document.createElement(\"img\");\n    githubLogo.classList.add(styles.githubLogo);\n    githubLogo.src = GitHubLogoSVG;\n    githubLogo.alt = \"GitHub\";\n    githubLink.append(githubLogo);\n    const githubSpan = document.createElement(\"span\");\n    githubSpan.textContent = \"View Source\";\n    githubLink.append(githubSpan);\n    this.header.append(githubLink);\n\n    this.contents.append(this.header);\n\n    this.groupHolder = document.createElement(\"div\");\n    this.contents.append(this.groupHolder);\n\n    this.unusedParameters = new UnusedParameters();\n    this.contents.append(this.unusedParameters.element);\n\n    this.hideUISection = new HideUISection();\n    this.contents.append(this.hideUISection.element);\n\n    const menuIcon = document.createElement(\"button\");\n    menuIcon.classList.add(styles.menuButton, \"no-copy\");\n    menuIcon.textContent = \"\u2261\";\n    menuIcon.addEventListener(\"click\", () => {\n      this.contents.style.display = this.contents.style.display === \"none\" ? \"block\" : \"none\";\n    });\n    this.element.append(menuIcon);\n  }\n\n  addGroup(uiGroup: UIGroup) {\n    this.groups.push(uiGroup);\n    this.groups.sort(\n      (a, b) => allGroups.indexOf(a.groupDefinition) - allGroups.indexOf(b.groupDefinition),\n    );\n    const index = this.groups.indexOf(uiGroup);\n    if (index === this.groups.length - 1) {\n      this.groupHolder.append(uiGroup.element);\n    } else {\n      const nextGroup = this.groups[index + 1];\n      this.groupHolder.insertBefore(uiGroup.element, nextGroup.element);\n    }\n  }\n\n  showUnusedParams(params: string[]) {\n    this.unusedParameters.setParams(params);\n  }\n\n  showAddressMenu() {\n    this.element.classList.add(styles.emptyState);\n    this.contents.style.display = \"block\";\n    this.hideUISection.hide();\n  }\n\n  hideAddressMenu() {\n    this.element.classList.remove(styles.emptyState);\n    this.hideUISection.show();\n  }\n\n  removeGroup(group: UIGroup) {\n    this.groupHolder.removeChild(group.element);\n    this.groups = this.groups.filter((g) => g !== group);\n  }\n\n  show() {\n    this.element.style.display = \"block\";\n  }\n\n  hide() {\n    this.element.style.display = \"none\";\n  }\n}\n", "import { parseBoolAttribute } from \"@mml-io/mml-web\";\n\nimport { FormIteration } from \"./FormIteration\";\nimport { GraphicsMode } from \"./GraphicsMode\";\nimport { MMLSourceDefinition } from \"./MMLSourceDefinition\";\nimport { PlayCanvasMode } from \"./PlayCanvasMode\";\nimport { PlayCanvasModeOptions } from \"./PlayCanvasModeInternal\";\nimport { QueryParamState } from \"./QueryParamState\";\nimport { TagsMode } from \"./TagsMode\";\nimport { ThreeJSMode } from \"./ThreeJSMode\";\nimport { ThreeJSModeOptions } from \"./ThreeJSModeInternal\";\nimport { hideUntilLoadedField, loadingStyleField, rendererField, urlField } from \"./ui/fields\";\nimport { ViewerUI } from \"./ui/ViewerUI\";\n\nexport class StandaloneViewer {\n  private viewerUI = new ViewerUI();\n  private graphicsMode: GraphicsMode | null = null;\n  private formIteration: FormIteration | null = null;\n  private source: MMLSourceDefinition | null = null;\n\n  constructor(\n    private windowTarget: Window,\n    private targetForWrappers: HTMLElement,\n  ) {\n    window.addEventListener(\"popstate\", () => {\n      this.handleParams();\n    });\n    window.addEventListener(\"message\", (event) => {\n      this.handlePostMessage(event);\n    });\n    this.handleParams();\n  }\n\n  private handlePostMessage(event: MessageEvent) {\n    const isParamUpdate =\n      event?.data?.type === \"updateParams\" &&\n      typeof event.data.params === \"object\" &&\n      event.data.params !== null;\n    if (isParamUpdate) {\n      this.updateUrlParams(event.data.params);\n      return;\n    }\n\n    const isScreenshot = event?.data?.type === \"screenshot\" && !event.data.imageUri;\n    if (isScreenshot) {\n      this.handleScreenshot(event);\n      return;\n    }\n  }\n\n  private handleScreenshot(event: MessageEvent) {\n    try {\n      const imageUri = this.captureScreenshot();\n      (event.source as Window).postMessage(\n        {\n          type: \"screenshot\",\n          imageUri: imageUri || null,\n        },\n        event.origin,\n      );\n    } catch (error) {\n      console.error(\"Error capturing screenshot:\", error);\n    }\n  }\n\n  private captureScreenshot(): string | null {\n    const canvas = this.graphicsMode?.getRendererCanvas();\n    if (canvas) {\n      return canvas.toDataURL(\"image/png\");\n    }\n    return null;\n  }\n\n  private updateUrlParams(params: Record<string, string>) {\n    const url = new URL(window.location.href);\n\n    // Update URL search parameters with provided params\n    Object.entries(params).forEach(([key, value]) => {\n      if (value === null || value === undefined || value === \"\") {\n        url.searchParams.delete(key);\n      } else {\n        url.searchParams.set(key, value);\n      }\n    });\n\n    // Update the URL without causing a page reload\n    window.history.pushState({}, \"\", url.toString());\n\n    // Trigger parameter handling to apply the changes\n    this.handleParams();\n  }\n\n  private handleParams() {\n    const queryParamState = new QueryParamState(window.location.search);\n    const formIteration = new FormIteration(queryParamState, this.viewerUI, this.formIteration);\n    this.formIteration = formIteration;\n\n    const url = formIteration.getFieldValue(urlField);\n    const renderer = formIteration.getFieldValue(rendererField);\n    const loadingStyle = formIteration.getFieldValue(loadingStyleField);\n    const noUI = parseBoolAttribute(queryParamState.read(\"noUI\"), false);\n    if (noUI) {\n      this.viewerUI.hide();\n    } else {\n      this.viewerUI.show();\n    }\n\n    if (this.graphicsMode && this.graphicsMode.type !== renderer) {\n      this.graphicsMode.dispose();\n      this.graphicsMode = null;\n    }\n\n    let source: MMLSourceDefinition;\n    if (url) {\n      source = { url };\n      if (this.source && this.source.url !== url) {\n        if (this.graphicsMode) {\n          // We know this is the correct graphics mode because we just checked the type above\n          // We can reuse it with a new source\n          this.graphicsMode.updateSource(source);\n        }\n      }\n      this.source = source;\n    } else {\n      if (this.graphicsMode) {\n        this.graphicsMode.dispose();\n        this.graphicsMode = null;\n      }\n      this.viewerUI.showAddressMenu();\n      this.formIteration.completed();\n      return;\n    }\n    this.viewerUI.hideAddressMenu();\n\n    const hideUntilLoaded = parseBoolAttribute(\n      formIteration.getFieldValue(hideUntilLoadedField),\n      false,\n    );\n\n    const options: ThreeJSModeOptions | PlayCanvasModeOptions = {\n      loadingStyle: loadingStyle as \"bar\" | \"spinner\",\n      hideUntilLoaded,\n      showDebugLoading: !noUI,\n    };\n\n    if (!this.graphicsMode) {\n      if (renderer === \"playcanvas\") {\n        this.graphicsMode = new PlayCanvasMode(\n          this.windowTarget,\n          this.targetForWrappers,\n          source,\n          formIteration,\n          options,\n        );\n      } else if (renderer === \"threejs\") {\n        this.graphicsMode = new ThreeJSMode(\n          this.windowTarget,\n          this.targetForWrappers,\n          source,\n          formIteration,\n          options,\n        );\n      } else if (renderer === \"tags\") {\n        this.graphicsMode = new TagsMode(\n          this.windowTarget,\n          this.targetForWrappers,\n          source,\n          formIteration,\n          !noUI,\n        );\n      }\n    } else {\n      this.graphicsMode.update(formIteration);\n    }\n  }\n}\n", "import { IframeWrapper, registerCustomElementsToWindow } from \"@mml-io/mml-web\";\n\nimport { StandaloneViewer } from \"./StandaloneViewer\";\n\ndeclare global {\n  interface Window {\n    \"mml-viewer\": StandaloneViewer;\n  }\n}\n\nwindow.addEventListener(\"load\", () => {\n  (async () => {\n    const { iframeWindow, iframeBody } = await IframeWrapper.create();\n    const windowTarget = iframeWindow;\n    const targetForWrappers = iframeBody;\n    registerCustomElementsToWindow(windowTarget);\n\n    /*\n     Add a transparent pixel with a backdrop filter to force the background to\n     be white in Chrome (and potentially other browsers). Without this the\n     background is grey unless the menu UI is opened.\n    */\n    const transparentPixel = document.createElement(\"div\");\n    transparentPixel.style.width = \"1px\";\n    transparentPixel.style.height = \"1px\";\n    transparentPixel.style.position = \"absolute\";\n    transparentPixel.style.top = \"1px\";\n    transparentPixel.style.left = \"1px\";\n    transparentPixel.style.userSelect = \"none\";\n    transparentPixel.style.pointerEvents = \"none\";\n    transparentPixel.style.backdropFilter = \"blur(1px)\";\n    document.body.append(transparentPixel);\n\n    const standaloneViewer = new StandaloneViewer(windowTarget, targetForWrappers);\n    window[\"mml-viewer\"] = standaloneViewer;\n  })();\n});\n"],
  "mappings": "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",
  "names": ["setUrlParam", "name", "value", "params", "shared_styles_default", "UIElement", "UIField_default", "UIField", "UIElement", "fieldDefinition", "group", "UIField_default", "shared_styles_default", "e", "selectElement", "unsetOption", "option", "optionElement", "input", "event", "value", "setUrlParam", "UIGroup_default", "UIGroup", "UIElement", "groupDefinition", "UIGroup_default", "shared_styles_default", "uiField", "a", "b", "allFields", "index", "nextGroup", "f", "element", "FormIteration", "queryParamState", "viewerUI", "previousFormIteration", "fieldDefinition", "unmatchedField", "uiGroup", "field", "groupDefinition", "UIGroup", "UIField", "readValue", "group", "PlayCanvasMode", "windowTarget", "targetForWrappers", "mmlSource", "formIteration", "options", "source", "PlayCanvasModeInternal", "QueryParamState", "_QueryParamState", "arg", "params", "newParams", "value", "key", "unusedParams", "searchParams", "TagsMode", "windowTarget", "targetForWrappers", "mmlSourceDefinition", "formIteration", "showDebugLoading", "source", "MMLNetworkSource", "status", "NetworkedDOMWebsocketStatusToString", "setDebugGlobals", "fullScreenMMLScene", "FullScreenMMLScene", "graphicsAdapter", "StandaloneTagDebugAdapter", "statusUI", "StatusUI", "mmlNetworkSource", "NetworkedDOMWebsocketStatus", "ThreeJSMode", "windowTarget", "targetForWrappers", "mmlSource", "formIteration", "options", "source", "ThreeJSModeInternal", "HideUISection_default", "tooltip_default", "HideUISection", "HideUISection_default", "shared_styles_default", "setUrlParam", "warningIcon", "tooltip_default", "warningIconText", "warningTooltip", "UnusedParameters_default", "UnusedParameters", "UnusedParameters_default", "shared_styles_default", "warningIcon", "tooltip_default", "warningIconText", "warningTooltip", "params", "param", "listItem", "paramName", "removeButton", "setUrlParam", "ViewerUI_default", "ViewerUI", "ViewerUI_default", "e", "title", "logoLink", "logo", "mml_logotype_white_default", "span", "githubLink", "githubLogo", "github_mark_white_default", "githubSpan", "UnusedParameters", "HideUISection", "menuIcon", "uiGroup", "a", "b", "allGroups", "index", "nextGroup", "params", "group", "g", "StandaloneViewer", "windowTarget", "targetForWrappers", "ViewerUI", "event", "imageUri", "error", "canvas", "params", "url", "key", "value", "queryParamState", "QueryParamState", "formIteration", "FormIteration", "urlField", "renderer", "rendererField", "loadingStyle", "loadingStyleField", "noUI", "parseBoolAttribute", "source", "hideUntilLoaded", "hideUntilLoadedField", "options", "PlayCanvasMode", "ThreeJSMode", "TagsMode", "iframeWindow", "iframeBody", "IframeWrapper", "windowTarget", "targetForWrappers", "registerCustomElementsToWindow", "transparentPixel", "standaloneViewer", "StandaloneViewer"]
}
